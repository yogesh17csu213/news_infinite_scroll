{"ast":null,"code":"var _jsxFileName = \"/Users/yogesh/Documents/InfiniteScroll/src/components/search.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport Newsbox from './newsbox';\nimport { GetNewsData, UpdateNewsData } from 'store/actions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Search(props) {\n  _s();\n\n  const [searchText, setSearchText] = useState(null);\n  const [page, setPage] = useState(0);\n  const [debounceState, setDebounceState] = useState(false);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    if (page) {\n      let params = {};\n      params.query = searchText;\n      params.page = page;\n      props.dispatch(UpdateNewsData(params));\n    }\n  }, [page]);\n  useEffect(() => {\n    if (props.newsData.query) {\n      setLoading(false);\n    }\n  }, [props.newsData.query]);\n\n  const handleSearch = obj => {\n    if ((obj === null || obj === void 0 ? void 0 : obj.length) > 0) {\n      let inDebounce = debounceState;\n      clearTimeout(inDebounce);\n      inDebounce = setTimeout(() => {\n        if ((obj === null || obj === void 0 ? void 0 : obj.length) > 0) {\n          let params = {};\n          params.query = obj;\n          params.page = 0;\n          setLoading(true);\n          props.dispatch(GetNewsData(params));\n        }\n      }, 500);\n      setDebounceState(inDebounce);\n      setSearchText(obj);\n      setPage(0);\n    } else {\n      setLoading(false);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"center\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Search News\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"type here to search news\",\n        onChange: e => handleSearch(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(Newsbox, {\n      newsList: props.newsDataList,\n      loading: props.loading,\n      page: page,\n      setPage: obj => setPage(obj),\n      loadingSearch: loading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Search, \"lP3NF9f26qwDMUj8Jb1DEGAdKFQ=\");\n\n_c = Search;\n\nconst mapStateToProps = state => {\n  return {\n    newsData: state.NewsReducer.newsData,\n    newsDataList: state.NewsReducer.newsDataList,\n    loading: state.NewsReducer.loading\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    dispatch\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Search);\n\nvar _c;\n\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"names":["React","useEffect","useState","connect","Newsbox","GetNewsData","UpdateNewsData","Search","props","searchText","setSearchText","page","setPage","debounceState","setDebounceState","loading","setLoading","params","query","dispatch","newsData","handleSearch","obj","length","inDebounce","clearTimeout","setTimeout","e","target","value","newsDataList","mapStateToProps","state","NewsReducer","mapDispatchToProps"],"sources":["/Users/yogesh/Documents/InfiniteScroll/src/components/search.js"],"sourcesContent":["\nimport React, { useEffect, useState } from 'react'\nimport { connect } from 'react-redux'\nimport Newsbox from './newsbox'\nimport {GetNewsData,UpdateNewsData} from 'store/actions'\nfunction Search(props) {\n\n  const [searchText,setSearchText]=useState(null)\n  const [page,setPage]=useState(0)\n  const [debounceState,setDebounceState]=useState(false)\n  const [loading,setLoading]=useState(false)\n\n  useEffect(()=>{\n    if(page){\n      let params={}\n      params.query=searchText\n      params.page=page\n      props.dispatch(UpdateNewsData(params))\n    }\n  },[page])\n\n  useEffect(()=>{\n    if(props.newsData.query){\n      setLoading(false)\n    }\n  },[props.newsData.query])\n\n  const handleSearch = (obj) => {\n    if(obj?.length>0){\n      let inDebounce = debounceState\n      clearTimeout(inDebounce);\n      inDebounce = setTimeout(() => {\n          if(obj?.length>0 ){\n            let params={}\n            params.query=obj\n            params.page=0\n            setLoading(true)\n            props.dispatch(GetNewsData(params));\n          }\n      },500) \n      setDebounceState(inDebounce)\n      setSearchText(obj)\n      setPage(0)\n    } \n    else{\n      setLoading(false)\n    }\n  };\n    \n  return (\n        <div>\n          <div className='center' >\n            <label>Search News</label>\n            <input placeholder='type here to search news' onChange={(e)=>handleSearch(e.target.value)}/>\n          </div>\n          <Newsbox \n              newsList={props.newsDataList} \n              loading={props.loading} \n              page={page} \n              setPage={(obj)=>setPage(obj)}\n              loadingSearch={loading}\n          />      \n        </div>\n    )\n}\n\nconst mapStateToProps=(state)=>{\n    return{\n      newsData:state.NewsReducer.newsData,\n      newsDataList:state.NewsReducer.newsDataList,\n      loading:state.NewsReducer.loading\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n      dispatch\n    }\n  }\nexport default connect(mapStateToProps,mapDispatchToProps)(Search)\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}